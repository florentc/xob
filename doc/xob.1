.\" Automatically generated by Pandoc 2.9.1.1
.\"
.TH "XOB" "1" "July 2021" "xob 0.2" "xob Manual"
.hy
.SH NAME
.PP
xob - A lightweight overlay volume/backlight/progress/anything bar for
the X Window System.
.SH SYNOPSIS
.PP
\f[B]xob\f[R]\ [\f[B]-m\f[R] \f[I]maximum\f[R]] [\f[B]-t\f[R]
\f[I]timeout\f[R]] [\f[B]-c\f[R] \f[I]configfile\f[R]]\ [\f[B]-s\f[R]
\f[I]style\f[R]] [\f[B]-q\f[R]]
.SH DESCRIPTION
.PP
\f[B]xob\f[R] (the X Overlay Bar) displays numerical values fed through
the standard input on a bar that looks like the volume bar on a
television screen.
When a new integer value is read on the standard input, the bar is
displayed over other windows for a configurable amount of time and then
disappears until it is fed a new value.
When a value is followed by a bang `!', an alternative color is used.
This feature makes it possible to provide visual feedback for
alternative states (e.g.\ unmuted/muted, auto/manual).
The appearance is configurable through options described in this manual.
The way overflows (when the value exceeds the maximum) are displayed is
also configurable.
The program ends when it reads \[lq]end\[rq] or \[lq]quit\[rq] (or
actually anything else than a number).
.SH OPTIONS
.TP
\f[B]-m\f[R] \f[I]maximum\f[R]
Number of steps in the bar (and maximum value since 0 is always the
minimum value).
By default: 100.
.TP
\f[B]-t\f[R] \f[I]timeout\f[R]
Duration in milliseconds between an update and the vanishing of the bar.
If set to 0, the bar is never hidden.
By default: 1000 (1 second).
.TP
\f[B]-s\f[R] \f[I]style\f[R]
Style (appearance) to choose in the configuration file.
By default: default.
.TP
\f[B]-c\f[R] \f[I]configfile\f[R]
Specifies a configuration file path.
By default: see below.
.TP
\f[B]-q\f[R]
Specifies whether to suppress all normal output.
By default: not suppressed
.SH USAGE
.SS GENERAL CASE
.PP
Use a program that listens to events (such as a change in audio volume
levels) and issues new values on the standard output automatically.
Launch \f[C]the_listener_program | xob\f[R].
Ready to use input programs for audio volume and screen backlight are
available on the xob project homepage: https://github.com/florentc/xob
.SS FALLBACK METHOD
.PP
In case no input program fits your needs, you may trigger changes
manually.
Append new values in a named pipe (a pipe that persists as a special
file on the filesystem) and have xob consume them as they arrive.
.PP
Create a named pipe, e.g.\ \f[I]/tmp/xobpipe\f[R], on your filesystem.
.IP
.nf
\f[C]
mkfifo /tmp/xobpipe
\f[R]
.fi
.PP
Have xob consume new values as they arrive on the pipe.
.IP
.nf
\f[C]
tail -f /tmp/xobpipe | xob
\f[R]
.fi
.PP
Write values to the pipe when you deem it relevant.
In the classic audio volume bar example, that would be after the user
has pressed a button and you changed the volume (usually set up as a
keybinding in your window manager or desktop environment).
.IP
.nf
\f[C]
command_that_outputs_a_value >> /tmp/xobpipe
\f[R]
.fi
.PP
To try it manually, issue a test value such as
\f[C]echo 43 >> /tmp/xobpipe\f[R].
.SH CONFIGURATION FILE
.PP
The configuration file only specifies styles (appearances) for the bar.
The maximum value and timeout are set by \f[B]-m\f[R] and \f[B]-t\f[R].
When starting, xob looks for the configuration file in the following
order:
.IP "1." 3
The path specified as the \f[B]-c\f[R] argument.
.IP "2." 3
$XDG_CONFIG_HOME$/xob/styles.cfg (if $XDG_CONFIG_HOME$ is set)
.IP "3." 3
\[ti]/.config/xob/styles.cfg
.IP "4." 3
Under the system configuration directory (determined during build
process): e.g.\ /etc/xob/styles.cfg or /usr/local/etc/xob/styles.cfg
.SS SYNTAX
.PP
The configuration file adheres to the libconfig syntax.
An option is set up using \[lq]=\[rq] or \[lq]:\[rq].
The options are separated using \[lq];\[rq].
.IP
.nf
\f[C]
option1 = value1;
option2 = value2;
\f[R]
.fi
.PP
Commented lines start with \[lq]#\[rq].
.IP
.nf
\f[C]
# This is a comment
\f[R]
.fi
.PP
Options can be grouped together inside curly brackets.
Some options expect a group as a value.
.IP
.nf
\f[C]
option3 = {
    suboptionA = valueA;
    suboptionB = {
        subsuboptionB1 = valueB1;
        subsuboptionB2 = valueB2;
        };
    suboptionC = valueC;
};
\f[R]
.fi
.SS OPTIONS
.IP
.nf
\f[C]
                length
      \[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]\[u2500]
\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]] outline
\[u2591]\[u2591]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2591]\[u2591]] border
\[u2591]\[u2591]\[u2588]\[u2588]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2588]\[u2588]\[u2591]\[u2591]] padding
\[u2591]\[u2591]\[u2588]\[u2588]\[u2591]\[u2591]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2588]\[u2588]\[u2591]\[u2591]\[br]
\[u2591]\[u2591]\[u2588]\[u2588]\[u2591]\[u2591]\[u2588]foreground\[u2588]\[u2591]\[u2591]\[u2591]\[u2591]background\[u2591]\[u2591]\[u2591]\[u2588]\[u2588]\[u2591]\[u2591]\[br] thickness
\[u2591]\[u2591]\[u2588]\[u2588]\[u2591]\[u2591]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2588]\[u2588]\[u2591]\[u2591]\[br]
\[u2591]\[u2591]\[u2588]\[u2588]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2588]\[u2588]\[u2591]\[u2591]] padding
\[u2591]\[u2591]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]border\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2588]\[u2591]\[u2591]] border
\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]\[u2591]] outline
      |                          |
      0                       maximum
\f[R]
.fi
.PP
In the following, a dot \[lq].\[rq] means \[lq]suboption\[rq].
For instance \[lq]color.normal.fg\[rq] means \[lq]The suboption fg of
the suboption normal of option color\[rq].
.TP
\f[B]orientation\f[R] \f[I]\[lq]horizontal\[rq] | \[lq]vertical\[rq]\f[R] (default: vertical)
Orientation of the bar which either fills up from left to right
(\[lq]horizontal\[rq]) or bottom to top (\[lq]vertical\[rq]).
.TP
\f[B]x.relative\f[R] \f[I]ratio\f[R] (default: 1.0)
Relative horizontal position on screen between 0.0 (left edge) and 1.0
(right edge).
Centered by default (0.5).
.TP
\f[B]x.offset\f[R] \f[I]pixels\f[R] (default: -48)
Horizontal offset in pixels from the position specified with
\f[B]x.relative\f[R].
This can be used for absolute positioning from an edge of the screen,
creating gaps, stacking bars, etc.
.TP
\f[B]y.relative\f[R] \f[I]ratio\f[R] (default: 0.5)
Relative vertical position on screen between 0.0 (top edge) and 1.0
(bottom edge).
.TP
\f[B]y.offset\f[R] \f[I]pixels\f[R] (default: 0)
Vertical offset in pixels from the position specified with
\f[B]y.relative\f[R].
This can be used for absolute positioning from an edge of the screen,
creating gaps, stacking bars, etc.
.TP
\f[B]length.relative\f[R] \f[I]ratio\f[R] (default: 0.3)
Relative length (horizontal bar) or height (vertical bar) of the bar
between 0.0 (collapsed) and 1.0 (full available length on screen).
.TP
\f[B]length.offset\f[R] \f[I]pixels\f[R] (default: 0)
Length offset in pixels from the relative length specified with
\f[B]length.relative\f[R].
This can be used for absolute sizes (using positive values and 0 as
\f[B]length.relative\f[R]) or creating gaps (using negative values and 1
as \f[B]length.relative\f[R]).
.TP
\f[B]thickness.absolute\f[R] \f[I]positive integer\f[R] (default: 24)
Height (horizontal bar) or width (vertical bar) in pixels without taking
borders into account.
.TP
\f[B]border\f[R] \f[I]pixels\f[R] (default: 4)
Size of the border in pixels.
.TP
\f[B]outline\f[R] \f[I]pixels\f[R] (default: 3)
Size of the outline in pixels.
.TP
\f[B]padding\f[R] \f[I]pixels\f[R] (default: 3)
Size of the padding in pixels.
.TP
\f[B]overflow\f[R] \f[I]\[lq]hidden\[rq] | \[lq]proportional\[rq]\f[R] (default: proportional)
When \[lq]hidden\[rq] is set, a full bar is displayed using the overflow
color when the value exceeds the maximum, whatever that value is.
When \[lq]proportional\[rq] is set, only a portion of the bar whose size
depends on the overflow is displayed using the overflow color.
If the value is twice the maximum, half the bar is displayed using the
overflow color.
The two zones are separated by a padding-sized gap.
.PP
Each of the following have three suboptions \[lq].fg\[rq],
\[lq].bg\[rq], and \[lq].border\[rq] corresponding to hexadecimal RGB or
RGBA specifications (e.g.\ #ff0000 or #ff0000ff) of the colors of the
foreground, the backgroud, and the border.
If xob is built without transparency support, the alpha channel is
ignored.
.TP
\f[B]color.normal\f[R] \f[I]colors\f[R] (default: {fg = \[lq]#ffffff\[rq]; bg = \[lq]#00000090\[rq]; border = \[lq]#ffffff\[rq];})
Colors in the general case.
.TP
\f[B]color.alt\f[R] \f[I]colors\f[R] (default: {fg = \[lq]#555555\[rq]; bg = \[lq]#00000090\[rq]; border = \[lq]#555555\[rq];})
Colors for alternate display (e.g.\ muted).
.TP
\f[B]color.overflow\f[R] \f[I]colors\f[R] (default: {fg = \[lq]#ff0000\[rq]; bg = \[lq]#00000090\[rq]; border = \[lq]#ff0000\[rq];})
Colors in case of overflow (the displayed valued exceeds the maximum).
.TP
\f[B]color.altoverflow\f[R] \f[I]colors\f[R] (default: {fg = \[lq]#ff0000\[rq]; bg = \[lq]#00000090\[rq]; border = \[lq]#555555\[rq];})
Colors for alternate display in case of overflow.
.SS STYLES
.PP
All the options described above must be encompassed inside a style
specification.
A style consists of a group of all or some of the options described
above.
The name of the style is the name of an option at the root level of the
configuration file.
When an option is missing from a style, the default values are used
instead.
A configuration file may specify several styles (at least 1) to choose
using the \f[B]-s\f[R] argument.
.PP
This example configuration file provides two styles \[lq]volume\[rq] and
\[lq]backlight\[rq].
Instances of xog launched with \f[B]-s volume\f[R] and \f[B]-s
backlight\f[R] will look according to the corresponding style.
.IP
.nf
\f[C]
volume = {
    thickness = 24;
    outline   = 1;
    border    = 2;
    padding   = 0;
    y = {
        relative = 0.9;
        offset = 0;
    };
};
backlight = {
    thickness = 24;
    outline   = 1;
    border    = 2;
    padding   = 0;
    y = {
        relative = 0.9;
        # To prevent overlap with the volume bar if displayed at the same time
        offset = -30;
    };

    color = {
        normal = {
            fg     = \[dq]#0000ff\[dq];
            bg     = \[dq]#000000\[dq];
            border = \[dq]#0000ff\[dq];
        };
    };
};
\f[R]
.fi
.SS DEFAULT CONFIGURATION FILE
.IP
.nf
\f[C]
default = {
    x         = {relative = 1; offset = -48;};
    y         = {relative = 0.5; offset = 0;};
    length    = {relative = 0.3; offset = 0;};
    thickness = 24;
    outline   = 3;
    border    = 4;
    padding   = 3;
    orientation = \[dq]vertical\[dq];

    overflow = \[dq]proportional\[dq];

    color = {
        normal = {
            fg     = \[dq]#ffffff\[dq];
            bg     = \[dq]#00000090\[dq];
            border = \[dq]#ffffff\[dq];
        };
        alt = {
            fg     = \[dq]#555555\[dq];
            bg     = \[dq]#00000090\[dq];
            border = \[dq]#555555\[dq];
        };
        overflow = {
            fg     = \[dq]#ff0000\[dq];
            bg     = \[dq]#00000090\[dq];
            border = \[dq]#ff0000\[dq];
        };
        altoverflow = {
            fg     = \[dq]#550000\[dq];
            bg     = \[dq]#00000090\[dq];
            border = \[dq]#550000\[dq];
        };
    };
};
\f[R]
.fi
.SH FAQ
.RS
.PP
\[lq]How should I display different sources of information (e.g.\ volume
and brightness)?\[rq] \[lq]What happens if several bars are displayed at
the same time?\[rq]
.RE
.PP
You can run and distinguish two or more instances of \f[B]xob\f[R] with
different styles (including color, position, extreme values, etc.).
To do so, specify and use different styles from your configuration file
(or use different configuration files).
To prevent the bars from overlapping, make use of the offset options.
For instance you can offset a bar to the top or bottom (see the example
provided in the \f[B]STYLES\f[R] section).
.RS
.PP
\[lq]Can I integrate xob in a panel of my desktop environment or window
manager?\[rq]
.RE
.PP
There is no support for panel integration.
You can however use absolute positioning and no timeout
(\f[I]timeout\f[R] set at 0) to mimic this behaviour in simple
situations.
.RS
.PP
\[lq]How to set up xob with multiple monitors?\[rq]
.RE
.PP
xob works well under multihead setups but there is no easy way to
configure the position of the bar for now.
For example, in a dual monitor setup with the default configuration, the
horizontal centering is not local to one of the two monitors.
It is global.
The bar might be split in two: one part on each screen.
Stick to a corner or use absolute positioning.
If you want an xob instance to be centered (horizontally) on the
far-right monitor, set \f[I]x.relative\f[R] to 1.0 (anchored on the far
right) and the \f[I]x.offset\f[R] to minus half the width of that
screen.
.SH CONTRIBUTIONS
.PP
Feedback and contributions are welcome.
.SH AUTHORS
Florent Ch.
